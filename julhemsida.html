<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="julhemsida.css">
    <title>JulHemsida</title>
  </head>
  <body>
    <canvas id="canvas" width="100%" height="100%"></canvas>
    <div id="logo"></div>
    <div id="countdown"></div>

    <div id="jullÃ¥tar">
      <iframe class="YTSlide" width="100%" height="100%" src="https://www.youtube.com/embed/FnTNo5D47us" frameborder="0" allowfullscreen></iframe>
      <iframe class="YTSlide" width="100%" height="100%" src="https://www.youtube.com/embed/oZx-_dZ_zf4" frameborder="0" allowfullscreen></iframe>
      <iframe class="YTSlide" width="100%" height="100%" src="https://www.youtube.com/embed/gm3puQtwXcg" frameborder="0" allowfullscreen></iframe>
      <iframe class="YTSlide" width="100%" height="100%" src="https://www.youtube.com/embed/-HUCd2xM3Ao" frameborder="0" allowfullscreen></iframe>
      <button id="LeftButton" onclick="plusDivs(-1)">&#10094;</button>
      <button id="RightButton" onclick="plusDivs(1)">&#10095;</button>
    </div>

    <div id="julbilder">
      <img class="mySlides" src="kys.png">
      <img class="mySlides" src="ree.jpg">
      <img class="mySlides" src="ree.jpg">
      <img class="mySlides" src="kys.png">
    </div>

    <script>
    //logo


    //YTSlide
    var slideIndex = 1;
    showDivs(slideIndex);

    function plusDivs(n) {
      showDivs(slideIndex += n);
    }

    function showDivs(n) {
      var i;
      var x = document.getElementsByClassName("YTSlide");
      if (n > x.length) {slideIndex = 1}
      if (n < 1) {slideIndex = x.length}
      for (i = 0; i < x.length; i++) {
         x[i].style.display = "none";
      }
      x[slideIndex-1].style.display = "block";
    }

    //countdown

    var countdown = new Date("Dec 24, 2018 0:0:0").getTime();

    var x = setInterval(function() {
      var now = new Date().getTime();
      var distance = countdown - now;
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));

      document.getElementById("countdown").innerHTML = days + " Days Left Til Xmas";
      if (distance < 0) {
        clearinterval(x);
        document.getElementById("countdown").innerHTML = "Merry Christmas"
      }
    }, 1000)

    //----------------------------------------------------------------------
    //Slideshow

    var slideIndex = 0;
    carousel();
    function carousel(){
      var i;
      var x = document.getElementsByClassName("mySlides");
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > x.length) {
        slideIndex = 1;
      }
      x[slideIndex-1].style.display = "block";
      setTimeout(carousel,2500)
    }

    //-------------------------------------------------------------------------
    //background animation


    window.onload = function(){
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");

      var W = window.innerWidth;
      var H = window.innerHeight;
      canvas.width = W;
      canvas.height = H;

      var mp = 120;
      var particles = [];
      for(var i = 0; i < mp; i++){
        particles.push({
          x: Math.random()*W,
          y: Math.random()*H,
          r: Math.random()*5+1,
          d: Math.random()*mp
        })
      }

      function draw(){
        ctx.clearRect(0, 0, W, H);
        ctx.fillStyle = "rgb(220, 220, 220)";
        ctx.beginPath();
        for(var i = 0; i < mp; i++){
          var p = particles[i];
          ctx.moveTo(p.x, p.y);
          ctx.arc(p.x, p.y, p.r, 0, Math.PI*2, true);
        }
        ctx.fill();
        update();
      }

      var angle = 0;
      function update(){
        angle += 0.05;
        for(var i = 0; i < mp; i++){
          var p = particles[i];
          p.y += Math.cos(angle+p.d) + 1 + p.r/2;
          p.x += Math.sin(angle) * 2;

          if(p.x > W+5 || p.x < -5 || p.y > H){
            if(i%3 > 0){
              particles[i] = {x: Math.random()*W, y: -10, r: p.r, d: p.d};
            }
            else{
              if(Math.sin(angle) > 1){
                particles[i] = {x: -5, y: Math.random()*H, r: p.r, d: p.d};
              }
              else{
                particles[i] = {x: W+5, y: Math.random()*H, r: p.r, d: p.d};
              }
            }
          }
        }
      }
      setInterval(draw, 23);
    }
    </script>
  </body>
</html>
